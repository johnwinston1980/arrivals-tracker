import { Component, OnInit } from '@angular/core';
import { MainService } from '../shared/main.service'

import { MatDialog, MatDialogRef } from '@angular/material'
import { PieChartComponent } from '../../dialogs/pie-chart/pie-chart/pie-chart.component'

import * as CanvasJS from '../../../../assets/canvasjs.min';

@Component({
  selector: 'app-main',
  templateUrl: './main.component.html',
  styleUrls: ['./main.component.css']
})
export class MainComponent implements OnInit {

  all: any //[{"hour":"7","amount":11,"all":[{"airline":"Qantas Airways","flight":"4389","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"Iberia Airlines","flight":"4116","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"American Airlines","flight":"5883","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"British Airways","flight":"5662","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"United Airlines","flight":"3502","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Air Canada","flight":"3175","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Lufthansa","flight":"7784","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Air Canada","flight":"3481","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"Copa Airlines","flight":"1413","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6309","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"United Airlines","flight":"4690","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"}]},{"all":[{"airline":"American Airlines","flight":"4411","from":"Philadelphia, PA","status":"\nArrived\n","sched":"8:17 PM","updated":"8:04 PM","gate":"B18"},{"airline":"American Airlines","flight":"4178","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"Alaska Airlines","flight":"4437","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"Royal Jordanian","flight":"7294","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"British Airways","flight":"4962","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"}],"hour":"8","amount":5},{"all":[{"airline":"Iberia Airlines","flight":"4591","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"American Airlines","flight":"5992","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"British Airways","flight":"6986","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"AeroMexico","flight":"4737","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Delta Air Lines","flight":"2157","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Virgin Atlantic","flight":"5279","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Air France","flight":"5814","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Jet Airways","flight":"7065","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"KLM Royal Dutch Airlines","flight":"7496","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Southwest Airlines","flight":"3004","from":"Baltimore, MD","status":"\nIn Air\n","sched":"9:25 PM","updated":"9:22 PM","gate":"B11"},{"airline":"American Airlines","flight":"4483","from":"Washington, DC","status":"\nIn Air\n","sched":"9:56 PM","updated":"9:34 PM","gate":"B2"},{"airline":"Virgin Atlantic","flight":"5667","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"AeroMexico","flight":"3756","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"Delta Air Lines","flight":"6077","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"Delta Air Lines","flight":"6017","from":"New York, NY","status":"\nIn Air\n","sched":"10:06 PM","updated":"9:40 PM","gate":"A6"},{"airline":"WestJet Airlines","flight":"6794","from":"New York, NY","status":"\nIn Air\n","sched":"10:06 PM","updated":"9:40 PM","gate":"A6"},{"airline":"United Airlines","flight":"4600","from":"Denver, CO","status":"\nIn Air\n","sched":"10:08 PM","updated":"9:46 PM","gate":"A14"},{"airline":"American Airlines","flight":"5187","from":"Charlotte, NC","status":"\nDeparted\n","sched":"10:00 PM","updated":"9:55 PM","gate":"B5"}],"hour":"9","amount":18},{"all":[{"airline":"United Airlines","flight":"4792","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6312","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Air Canada","flight":"3096","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Asiana Airlines","flight":"6426","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Southwest Airlines","flight":"154","from":"Denver, CO","status":"\nDeparted\n","sched":"10:55 PM","updated":"10:27 PM","gate":"B17"},{"airline":"Air New Zealand","flight":"6659","from":"Houston, TX","status":"\nScheduled\n","sched":"11:09 PM","updated":"10:53 PM","gate":"A15"},{"airline":"United Airlines","flight":"3650","from":"Houston, TX","status":"\nScheduled\n","sched":"11:09 PM","updated":"10:53 PM","gate":"A15"}],"hour":"10","amount":7},{"all":[{"airline":"American Airlines","flight":"4749","from":"New York, NY","status":"\nDeparted\n","sched":"11:16 PM","updated":"11:08 PM","gate":"B4"},{"airline":"Delta Air Lines","flight":"3933","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"Virgin Atlantic","flight":"3514","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"KLM Royal Dutch Airlines","flight":"7382","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"British Airways","flight":"6813","from":"Dallas-Fort Worth, TX","status":"\nScheduled\n","sched":"11:34 PM","updated":"11:34 PM","gate":"B16"},{"airline":"American Airlines","flight":"5939","from":"Dallas-Fort Worth, TX","status":"\nScheduled\n","sched":"11:34 PM","updated":"11:34 PM","gate":"B16"},{"airline":"Air Canada","flight":"3371","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6311","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"United Airlines","flight":"4667","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Asiana Airlines","flight":"6354","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Lufthansa","flight":"9168","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Southwest Airlines","flight":"647","from":"Las Vegas, NV","status":"\nDeparted\n","sched":"11:30 PM","updated":"11:40 PM","gate":"B19"},{"airline":"AeroMexico","flight":"4793","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Air France","flight":"8646","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Jet Airways","flight":"5384","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"KLM Royal Dutch Airlines","flight":"5254","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Delta Air Lines","flight":"2491","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Virgin Atlantic","flight":"5499","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"American Airlines","flight":"4718","from":"Charlotte, NC","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:59 PM","gate":"B6"}],"hour":"11","amount":19},{"all":[{"airline":"American Airlines","flight":"4453","from":"Miami, FL","status":"\nScheduled\n","sched":"12:21 AM","updated":"12:21 AM","gate":"A10"},{"airline":"Alaska Airlines","flight":"4239","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"},{"airline":"American Airlines","flight":"2991","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"},{"airline":"British Airways","flight":"1793","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"}],"hour":"12","amount":4}]

  //all  = [{"hour":"7","amount":11,"all":[{"airline":"Qantas Airways","flight":"4389","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"Iberia Airlines","flight":"4116","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"American Airlines","flight":"5883","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"British Airways","flight":"5662","from":"Dallas-Fort Worth, TX","status":"\nArrived\n","sched":"7:30 PM","updated":"7:37 PM","gate":"B6"},{"airline":"United Airlines","flight":"3502","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Air Canada","flight":"3175","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Lufthansa","flight":"7784","from":"Newark, NJ","status":"\nArrived\n","sched":"7:22 PM","updated":"7:45 PM","gate":"A12"},{"airline":"Air Canada","flight":"3481","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"Copa Airlines","flight":"1413","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6309","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"},{"airline":"United Airlines","flight":"4690","from":"Chicago, IL","status":"\nArrived\n","sched":"8:15 PM","updated":"7:56 PM","gate":"A14"}]},{"all":[{"airline":"American Airlines","flight":"4411","from":"Philadelphia, PA","status":"\nArrived\n","sched":"8:17 PM","updated":"8:04 PM","gate":"B18"},{"airline":"American Airlines","flight":"4178","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"Alaska Airlines","flight":"4437","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"Royal Jordanian","flight":"7294","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"},{"airline":"British Airways","flight":"4962","from":"Chicago, IL","status":"\nArrived\n","sched":"8:28 PM","updated":"8:32 PM","gate":"B16"}],"hour":"8","amount":5},{"all":[{"airline":"Iberia Airlines","flight":"4591","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"American Airlines","flight":"5992","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"British Airways","flight":"6986","from":"Dallas-Fort Worth, TX","status":"\nIn Air\n","sched":"9:29 PM","updated":"9:18 PM","gate":"B16"},{"airline":"AeroMexico","flight":"4737","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Delta Air Lines","flight":"2157","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Virgin Atlantic","flight":"5279","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Air France","flight":"5814","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Jet Airways","flight":"7065","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"KLM Royal Dutch Airlines","flight":"7496","from":"Atlanta, GA","status":"\nIn Air\n","sched":"8:46 PM","updated":"9:21 PM","gate":"A5"},{"airline":"Southwest Airlines","flight":"3004","from":"Baltimore, MD","status":"\nIn Air\n","sched":"9:25 PM","updated":"9:22 PM","gate":"B11"},{"airline":"American Airlines","flight":"4483","from":"Washington, DC","status":"\nIn Air\n","sched":"9:56 PM","updated":"9:34 PM","gate":"B2"},{"airline":"Virgin Atlantic","flight":"5667","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"AeroMexico","flight":"3756","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"Delta Air Lines","flight":"6077","from":"Detroit, MI","status":"\nDeparted\n","sched":"9:35 PM","updated":"9:36 PM","gate":"A8"},{"airline":"Delta Air Lines","flight":"6017","from":"New York, NY","status":"\nIn Air\n","sched":"10:06 PM","updated":"9:40 PM","gate":"A6"},{"airline":"WestJet Airlines","flight":"6794","from":"New York, NY","status":"\nIn Air\n","sched":"10:06 PM","updated":"9:40 PM","gate":"A6"},{"airline":"United Airlines","flight":"4600","from":"Denver, CO","status":"\nIn Air\n","sched":"10:08 PM","updated":"9:46 PM","gate":"A14"},{"airline":"American Airlines","flight":"5187","from":"Charlotte, NC","status":"\nDeparted\n","sched":"10:00 PM","updated":"9:55 PM","gate":"B5"}],"hour":"9","amount":18},{"all":[{"airline":"United Airlines","flight":"4792","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6312","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Air Canada","flight":"3096","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Asiana Airlines","flight":"6426","from":"Chicago, IL","status":"\nScheduled\n","sched":"9:55 PM","updated":"10:05 PM","gate":"A14"},{"airline":"Southwest Airlines","flight":"154","from":"Denver, CO","status":"\nDeparted\n","sched":"10:55 PM","updated":"10:27 PM","gate":"B17"},{"airline":"Air New Zealand","flight":"6659","from":"Houston, TX","status":"\nScheduled\n","sched":"11:09 PM","updated":"10:53 PM","gate":"A15"},{"airline":"United Airlines","flight":"3650","from":"Houston, TX","status":"\nScheduled\n","sched":"11:09 PM","updated":"10:53 PM","gate":"A15"}],"hour":"10","amount":7},{"all":[{"airline":"American Airlines","flight":"4749","from":"New York, NY","status":"\nDeparted\n","sched":"11:16 PM","updated":"11:08 PM","gate":"B4"},{"airline":"Delta Air Lines","flight":"3933","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"Virgin Atlantic","flight":"3514","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"KLM Royal Dutch Airlines","flight":"7382","from":"Minneapolis, MN","status":"\nScheduled\n","sched":"11:32 PM","updated":"11:19 PM","gate":"A1"},{"airline":"British Airways","flight":"6813","from":"Dallas-Fort Worth, TX","status":"\nScheduled\n","sched":"11:34 PM","updated":"11:34 PM","gate":"B16"},{"airline":"American Airlines","flight":"5939","from":"Dallas-Fort Worth, TX","status":"\nScheduled\n","sched":"11:34 PM","updated":"11:34 PM","gate":"B16"},{"airline":"Air Canada","flight":"3371","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Aer Lingus","flight":"6311","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"United Airlines","flight":"4667","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Asiana Airlines","flight":"6354","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Lufthansa","flight":"9168","from":"Chicago, IL","status":"\nScheduled\n","sched":"11:35 PM","updated":"11:35 PM","gate":"A14"},{"airline":"Southwest Airlines","flight":"647","from":"Las Vegas, NV","status":"\nDeparted\n","sched":"11:30 PM","updated":"11:40 PM","gate":"B19"},{"airline":"AeroMexico","flight":"4793","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Air France","flight":"8646","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Jet Airways","flight":"5384","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"KLM Royal Dutch Airlines","flight":"5254","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Delta Air Lines","flight":"2491","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"Virgin Atlantic","flight":"5499","from":"Atlanta, GA","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:43 PM","gate":"A5"},{"airline":"American Airlines","flight":"4718","from":"Charlotte, NC","status":"\nScheduled\n","sched":"11:59 PM","updated":"11:59 PM","gate":"B6"}],"hour":"11","amount":19},{"all":[{"airline":"American Airlines","flight":"4453","from":"Miami, FL","status":"\nScheduled\n","sched":"12:21 AM","updated":"12:21 AM","gate":"A10"},{"airline":"Alaska Airlines","flight":"4239","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"},{"airline":"American Airlines","flight":"2991","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"},{"airline":"British Airways","flight":"1793","from":"Chicago, IL","status":"\nScheduled\n","sched":"12:36 AM","updated":"12:36 AM","gate":"B16A"}],"hour":"12","amount":4}]

  date: string

  constructor(
    private mainService: MainService,
    public dialog: MatDialog, ) {

  }

  ngOnInit() {
    this.date = new Date().toString()
    this.mainService.getFlights()
      .subscribe((data) => {
        this.all = data

        let dataChart = []
        for (let aux of this.all) {
          dataChart.push({ y: aux.amount, label: aux.hour })
        }
        let chart = new CanvasJS.Chart("chartContainer", {
          animationEnabled: true,
          exportEnabled: true,
          title: {
            text: "Arrivals Per Hour"
          },
          data: [{
            type: "column",
            dataPoints: dataChart
          }]
        });
        chart.render();
      });
  }

  format(n): String{
    if(n < 10){
      return new String('0'+n)
    }
    else return new String(n)
  }

  
  organizeFlights(hour1){
    let perHour = hour1.all  
    let minute, hour
    let amount = 0
    let allPerMinute = []
    if (perHour.length > 0) {
      minute = perHour[0].minute
      hour = perHour[0].hour
    }
    for (let aux of perHour) {
      if (aux.minute != minute) {
        allPerMinute.push({ y: amount, name: hour + ':' + this.format(minute) })
        minute = aux.minute
        hour = aux.hour
        amount = 1
      }
      else {
        amount++
      }
    }
    allPerMinute.push({ y: amount, name: hour + ':' + minute })
    return allPerMinute
  }

  renderPieChart(allPerMinute) {
    let dialogRef = this.dialog.open(PieChartComponent, {
      width: '450px',
      data: { points: allPerMinute }
    });
  }  


  reload() {
    location.reload(true)
    var d = new Date();
    this.date = d.toString()
  }

  updated(flight) {
    return true
  }
}